{"version":3,"sources":["webpack:///./src/views/RegisterLogin.vue","webpack:///./src/views/RegisterLogin.vue?fa1d","webpack:///./src/views/RegisterLogin.vue?8e96","webpack:///./src/libs/utils.js","webpack:///./src/assets/logo.svg"],"names":["class","_createElementVNode","style","src","_imports_0","for","_hoisted_12","_hoisted_15","_hoisted_20","lang","_hoisted_35","id","_createElementBlock","_hoisted_4","$data","_toDisplayString","_hoisted_6","_hoisted_8","_hoisted_13","_hoisted_16","type","$event","placeholder","onKeyup","$options","dir","onClick","_hoisted_19","_hoisted_21","_hoisted_22","_hoisted_24","_hoisted_27","_hoisted_29","maxlength","disabled","_hoisted_32","_hoisted_34","_hoisted_36","_hoisted_38","_createVNode","_component_router_link","to","name","created","this","utils","arefApi","ArefApi","data","userPhone","$route","query","phone","referrerFromUrl","referrer","error","lastName","otp","mobileIsValid","OTPSpin","otpType","showPhone","showCode","showLastname","pathAfterLogin","params","btnResendText","btnResendDisabled","methods","registerLogin","event","target","disbaled","mobiledata","email","then","resp","startResendTimer","setTimeout","document","querySelector","focus","catch","err","showErrors","finally","showCodeBox","length","checkCode","Number","last_name","fn","async","afterSuccessLogin","response","routeName","group","getCart","$store","commit","getCartCount","amount","hasTeamRequest","getTeam","$router","push","state","tmpPath","path","checkIsLogged","token","perToEn","e","validMobile","keyCode","click","OTPKeyUp","Promise","resolve","reject","getTeamUser","mounted","__exports__","render","language","require","mobile","trim","indexOf","charAt","x","toString","replace","str","unFixNumbers","String","vue","alertText","errors","i","translate","$swal","fire","title","text","icon","confirmButtonText","showSuccess","msg","position","showConfirmButton","timer","cart","out","orderDetails","orderDetail","all_videos_buy","productDetails","input","toJalali","inp","jmoment","format","store","access_token","user_id","menus","first_name","isConnected","message","reconnectError","module","exports"],"mappings":"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","file":"js/chunk-5413e4d2.ec245bba.js","sourcesContent":["<template>\n  <div class=\"container text-center\">\n    <div class=\"row mt-sm-5\">\n      <div class=\"col-12 offset-md-4 col-md-4 bg-white login-frm p-4 shadow\">\n        <!-- Tabs Titles -->\n\n        <!-- Icon -->\n        <div class=\"fadeIn first\">\n          <img class=\"mb-2\" style=\"width: 100px\" src=\"../assets/logo.svg\" />\n          <h6 class=\"mb-2 fs-3 fw-bold text-center\">ورود / عضویت</h6>\n        </div>\n\n        <!-- Login Form -->\n        <div\n          v-if=\"error\"\n          class=\"bg-danger fw-bold mb-4 px-4 py-2 rounded text-white\"\n        >\n          {{ error }}\n        </div>\n        <div>\n          <div v-if=\"showPhone\">\n            <div class=\"mb-1 text-start\">\n              <label for=\"login\" class=\"form-label\">\n                جهت ورود یا عضویت تلفن همراه خود را وارد کنید</label\n              >\n              <div class=\"input-group\">\n                <span class=\"input-group-append\">\n                  <span\n                    v-if=\"mobileIsValid\"\n                    class=\"btn rounded-pill border-0 mt-2 text-secondary\"\n                  >\n                    <i class=\"fas fa-check text-success\"></i>\n                  </span>\n                  <span\n                    v-else\n                    class=\"btn rounded-pill border-0 mt-2 text-secondary\"\n                  >\n                    <i class=\"fas fa-exclamation-triangle\"></i>\n                  </span>\n                </span>\n                <input\n                  type=\"text\"\n                  class=\"\n                    form-control form-control-lg\n                    rounded-pill\n                    text-center text-primary\n                    mr-1\n                    pr-0\n                  \"\n                  id=\"login\"\n                  v-model=\"userPhone\"\n                  placeholder=\"0912*******\"\n                  v-on:keyup=\"perToEn\"\n                  dir=\"ltr\"\n                />\n              </div>\n            </div>\n\n            <div class=\"mb-3 mt-3 text-start\">\n              <button\n                id=\"registerLoginBtn\"\n                type=\"button\"\n                class=\"btn btn-theme w-100 fw-bold rounded-pill\"\n                @click=\"registerLogin\"\n              >\n                ادامه\n                <span v-if=\"OTPSpin\">\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </span>\n              </button>\n            </div>\n          </div>\n\n          <div v-if=\"showLastname\">\n            <div class=\"mb-3 text-start\">\n              <label for=\"lastName\" class=\"form-label\"\n                >نام و نام خانوادگی</label\n              >\n\n              <div class=\"input-group\" lang=\"en\">\n                <input\n                  type=\"text\"\n                  id=\"lastName\"\n                  class=\"form-control form-control-lg text-center rounded-pill\"\n                  v-model=\"lastName\"\n                  @keyup.enter=\"showCodeBox\"\n                />\n              </div>\n            </div>\n\n            <div class=\"mb-3 mt-3 text-start\">\n              <button\n                type=\"button\"\n                class=\"btn btn-theme w-100 fw-bold rounded-pill\"\n                @click=\"showCodeBox\"\n              >\n                ادامه\n              </button>\n            </div>\n          </div>\n\n          <div v-if=\"showCode\">\n            <div class=\"mb-3 text-center\">\n              <label for=\"otp\" class=\"form-label\"\n                >کد پیامک شده را وارد فرمایید</label\n              >\n\n              <input\n                id=\"partitioned\"\n                maxlength=\"4\"\n                type=\"text\"\n                class=\"d-block fw-bold fs-5\"\n                v-model=\"otp\"\n                dir=\"ltr\"\n                @keyup=\"OTPKeyUp\"\n                :disabled=\"OTPSpin\"\n              />\n              <div class=\"mt-4\">\n                <button\n                  class=\"btn btn-warning rounded-pill\"\n                  :disabled=\"btnResendDisabled\"\n                  style=\"min-width: 150px\"\n                  @click=\"registerLogin\"\n                >\n                  {{ btnResendText }}\n                </button>\n              </div>\n            </div>\n\n            <div class=\"mb-3 mt-3 text-center\">\n              <span v-if=\"OTPSpin\"\n                ><i class=\"fas fa-spinner fa-spin fs-4\"></i>\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Remind Passowrd -->\n        <div\n          v-if=\"showPhone\"\n          id=\"formFooter\"\n          class=\"d-flex justify-content-center mb-3 mt-5\"\n        >\n          <span class=\"mx-1\">رمز عبور خود را بخاطر دارید؟</span>\n          <router-link\n            :to=\"{ name: 'Login' }\"\n            class=\"text-decoration-none text-success\"\n          >\n            ورود بارمز عبور\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport ArefApi from \"../libs/api.js\";\nimport utils from \"../libs/utils\";\nexport default {\n  name: \"register\",\n  created() {\n    this.utils = new utils();\n    this.arefApi = new ArefApi(this);\n  },\n  data() {\n    return {\n      userPhone: this.$route.query.phone ? this.$route.query.phone : \"\",\n      referrerFromUrl: this.$route.query.referrer ? true : false,\n      referrer: this.$route.query.referrer,\n      error: null,\n      lastName: null,\n      otp: \"\",\n      mobileIsValid: true,\n      OTPSpin: false,\n      otpType: null,\n\n      showPhone: true,\n      showCode: false,\n      showLastname: false,\n\n      pathAfterLogin: this.$route.params.pathAfterLogin\n        ? this.$route.params.pathAfterLogin\n        : null,\n      btnResendText: \"ارسال مجدد کد\",\n      btnResendDisabled: false,\n    };\n  },\n  methods: {\n    registerLogin(event) {\n      this.error = null;\n      if (!this.mobileIsValid) {\n        this.error = \"موبایل را صحیح وارد نمایید.\";\n        return;\n      }\n      event.target.disbaled = true;\n      this.OTPSpin = true;\n      const mobiledata = {\n        email: this.userPhone,\n      };\n      this.arefApi\n        .registerLogin(mobiledata)\n        .then((resp) => {\n          this.otpType = resp.data.type;\n          this.showPhone = false;\n          if (this.otpType === \"login\") {\n            this.showCode = true;\n\n            this.btnResendText = 60;\n            this.btnResendDisabled = true;\n            this.startResendTimer();\n            setTimeout(() => {\n              document.querySelector(\"#partitioned\").focus();\n            }, 500);\n          } else if (this.otpType === \"register\") {\n            this.showLastname = true;\n          }\n        })\n        .catch((err) => {\n          this.utils.showErrors(this, err);\n        })\n        .finally(() => {\n          event.target.disbaled = false;\n          this.OTPSpin = false;\n        });\n    },\n    showCodeBox() {\n      this.error = null;\n      if (!this.lastName || this.lastName.length < 3) {\n        this.error = \"نام و نام خانوادگی را صحیح وارد کنید\";\n        return;\n      }\n      this.showLastname = false;\n      this.showCode = true;\n      this.btnResendText = 60;\n      this.btnResendDisabled = true;\n      this.startResendTimer();\n      setTimeout(() => {\n        document.querySelector(\"#partitioned\").focus();\n      }, 500);\n    },\n    checkCode() {\n      this.error = null;\n      if (!this.otp || this.otp.length !== 4) {\n        this.error = \"کد را صحیح وارد کنید\";\n        return;\n      }\n\n      this.OTPSpin = true;\n      const mobiledata = {\n        email: this.userPhone,\n        otp: Number(this.otp),\n        last_name: this.lastName,\n      };\n      const fn = this.otpType === \"login\" ? \"loginWithOtp\" : \"registerWithOtp\";\n      this.arefApi[fn](mobiledata)\n        .then(async (response) => {\n          this.utils.afterSuccessLogin(response);\n          let routeName = \"Shop\";\n\n          switch (response.data.group.type) {\n            case \"admin\":\n              routeName = \"AdminHome\";\n              break;\n\n            default:\n              this.arefApi\n                .getCart()\n                .then((resp) => {\n                  this.$store.commit(\"set\", [\n                    \"cartCount\",\n                    this.utils.getCartCount(resp.data),\n                  ]);\n                  this.$store.commit(\"set\", [\"cartAmount\", resp.data.amount]);\n                })\n                .catch((err) => {\n                  this.utils.showErrors(this, err);\n                });\n              break;\n          }\n          const hasTeamRequest = await this.getTeam();\n          if (hasTeamRequest) {\n            return this.$router.push({ name: \"Team\" });\n          }\n          if (\n            !this.pathAfterLogin ||\n            this.$store.state.pathAfterLogin == \"/login\"\n          ) {\n            this.$router.push({ name: routeName });\n            this.$store.commit(\"set\", [\"pathAfterLogin\", null]);\n          } else {\n            const tmpPath =\n              this.pathAfterLogin || this.$store.state.pathAfterLogin;\n            this.$store.commit(\"set\", [\"pathAfterLogin\", null]);\n            this.$router.push({ path: `/${tmpPath}` });\n          }\n        })\n        .catch((err) => {\n          this.utils.showErrors(this, err);\n          this.otp = null;\n        })\n        .finally(() => {\n          this.OTPSpin = false;\n        });\n    },\n\n    checkIsLogged: function () {\n      if (this.$store.state.token) {\n        this.$router.push({ name: \"Home\" });\n      }\n    },\n    perToEn(e) {\n      this.userPhone = this.utils.perToEn(this.userPhone);\n      this.mobileIsValid = true;\n      if (this.userPhone) {\n        this.mobileIsValid = this.utils.validMobile(this.userPhone);\n      }\n      if (e.keyCode === 13) {\n        document.querySelector(\"#registerLoginBtn\").click();\n      }\n    },\n    OTPKeyUp(e) {\n      this.otp = this.utils.perToEn(this.otp);\n      if (this.otp.length === 4) {\n        this.checkCode();\n      }\n      if (e.keyCode === 13) {\n        this.checkCode();\n      }\n    },\n    startResendTimer() {\n      setTimeout(() => {\n        if (this.btnResendText > 0) {\n          this.btnResendText--;\n          this.startResendTimer();\n        } else {\n          this.btnResendText = \"ارسال مجدد کد\";\n          this.btnResendDisabled = false;\n        }\n      }, 1000);\n    },\n    getTeam() {\n      return new Promise((resolve, reject) => {\n        this.arefApi\n          .getTeamUser()\n          .then((resp) => {\n            resolve(!!resp.data.length);\n          })\n          .catch((err) => {\n            reject(err);\n          });\n      });\n    },\n  },\n  mounted() {\n    this.checkIsLogged();\n    document.querySelector(\"#login\").focus();\n  },\n};\n</script>\n<style scoped>\n.login-frm {\n  min-width: 300px;\n}\n#partitioned {\n  padding-left: 15px;\n  letter-spacing: 50px;\n  border: 0;\n  background-image: linear-gradient(\n    to left,\n    rgb(49, 47, 47) 70%,\n    rgba(255, 255, 255, 0) 0%\n  );\n  background-position: bottom;\n  background-size: 58px 1px;\n  background-repeat: repeat-x;\n  background-position-x: 35px;\n  width: 220px;\n  margin: 0 auto;\n}\n#partitioned:focus {\n  outline: none;\n}\n</style>","import { render } from \"./RegisterLogin.vue?vue&type=template&id=731272c8&scoped=true\"\nimport script from \"./RegisterLogin.vue?vue&type=script&lang=js\"\nexport * from \"./RegisterLogin.vue?vue&type=script&lang=js\"\n\nimport \"./RegisterLogin.vue?vue&type=style&index=0&id=731272c8&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/hamed/software/setavin-site/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-731272c8\"]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./RegisterLogin.vue?vue&type=style&index=0&id=731272c8&scoped=true&lang=css\"","const language = require(\"../languages/fa.json\");\nimport jmoment from \"moment-jalaali\";\nimport store from \"../store\";\n\nclass utils {\n  validMobile = (mobile) => {\n    mobile = mobile.trim();\n    if (mobile.indexOf(\" \") > -1) {\n      return false;\n    }\n    if (mobile.length == 11 && mobile.charAt(0) == 0 && mobile.charAt(1) == 9) {\n      return true;\n    }\n    return false;\n  };\n\n  monize = (x) => {\n    if (Number(x) == 0) return 0;\n    if (!x) return \"\";\n    x = x.toString().replace(/,/g, \"\");\n    return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  };\n\n  showErrors(vue, err) {\n    let alertText = \"\";\n    if (err.data.errors) {\n      for (let i in err.data.errors) {\n        alertText +=\n          (alertText == \"\" ? \"\" : \",\") +\n          `${this.translate(err.data.errors[i])} `;\n      }\n    }\n    vue.$swal.fire({\n      title: \"!خطا\",\n      text: `${alertText}`,\n      icon: \"error\",\n      confirmButtonText: \"متوجه شدم\",\n    });\n  }\n\n  showSuccess(vue, msg = null) {\n    vue.$swal.fire({\n      title: \"\",\n      text: msg ? msg : `عملیات با موفقیت انجام شد`,\n      icon: \"success\",\n      // confirmButtonText: \"متوجه شدم\",\n      position: 'center',\n      showConfirmButton: false,\n      timer: 2000\n    });\n  }\n\n  getCartCount(cart) {\n    let out = 0;\n    const orderDetails = cart.orderDetail;\n    for (let i in orderDetails) {\n      if (orderDetails[i].all_videos_buy == 1) {\n        out++;\n      } else {\n        out += orderDetails[i].productDetails.length;\n      }\n    }\n    return out;\n  }\n\n  translate(input) {\n    if (!language[input]) {\n      return input;\n    }\n    return language[input];\n  }\n\n  perToEn = (str) => {\n    var unFixNumbers = String(str);\n    unFixNumbers = unFixNumbers.replace(/۰/g, \"0\");\n    unFixNumbers = unFixNumbers.replace(/۱/g, \"1\");\n    unFixNumbers = unFixNumbers.replace(/۲/g, \"2\");\n    unFixNumbers = unFixNumbers.replace(/۳/g, \"3\");\n    unFixNumbers = unFixNumbers.replace(/۴/g, \"4\");\n    unFixNumbers = unFixNumbers.replace(/۵/g, \"5\");\n    unFixNumbers = unFixNumbers.replace(/۶/g, \"6\");\n    unFixNumbers = unFixNumbers.replace(/۷/g, \"7\");\n    unFixNumbers = unFixNumbers.replace(/۸/g, \"8\");\n    unFixNumbers = unFixNumbers.replace(/۹/g, \"9\");\n    //-------------apple\n    unFixNumbers = unFixNumbers.replace(/٠/g, \"0\");\n    unFixNumbers = unFixNumbers.replace(/١/g, \"1\");\n    unFixNumbers = unFixNumbers.replace(/٢/g, \"2\");\n    unFixNumbers = unFixNumbers.replace(/٣/g, \"3\");\n    unFixNumbers = unFixNumbers.replace(/٤/g, \"4\");\n    unFixNumbers = unFixNumbers.replace(/٥/g, \"5\");\n    unFixNumbers = unFixNumbers.replace(/٦/g, \"6\");\n    unFixNumbers = unFixNumbers.replace(/٧/g, \"7\");\n    unFixNumbers = unFixNumbers.replace(/٨/g, \"8\");\n    unFixNumbers = unFixNumbers.replace(/٩/g, \"9\");\n    return unFixNumbers;\n  };\n\n  toJalali(inp) {\n    return jmoment(inp).format(\"jYYYY/jMM/jDD\");\n  }\n\n  afterSuccessLogin(response) {\n    store.commit(\"set\", [\"token\", response.data.access_token]);\n    store.commit(\"set\", [\"user_id\", response.data.user_id]);\n    store.commit(\"set\", [\"menus\", response.data.menus]);\n    store.commit(\"set\", [\"menuActiveId\", response.data.menus[1].id]);\n    store.commit(\"set\", [\"userGroupType\", response.data.group.type]);\n    store.commit(\"set\", [\n      \"fullName\",\n      `${response.data.first_name ? response.data.first_name : \"\"} ${\n        response.data.last_name ? response.data.last_name : \"\"\n      }`,\n    ]);\n    store.commit(\"set\", [\n      \"socket\",\n      {\n        isConnected: false,\n        message: \"\",\n        reconnectError: false,\n      },\n    ]);\n  }\n}\n\nexport default utils;\n// export default {\n//   install: (app) => {\n//     app.config.globalProperties.$utils = new utils;\n//   }\n// };\n","module.exports = __webpack_public_path__ + \"img/logo.69894373.svg\";"],"sourceRoot":""}